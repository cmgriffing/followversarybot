import{r as t,a as R}from"./index.c8d9dfbd.js";import{e as ne,f as H,$ as te,o as Pe,b as L,_,p as se,l as _e,h as Se,g as U,m as P,q as Ie,n as Ne,d as Ae,r as De,c as k,a as Me,u as Le}from"./index.a076e858.js";import{r as ke}from"./index.467d5486.js";import{j as y}from"./jsx-runtime.0b464899.js";function Fe(e,o){if(e==null)return{};var r={},n=Object.keys(e),c,d;for(d=0;d<n.length;d++)c=n[d],!(o.indexOf(c)>=0)&&(r[c]=e[c]);return r}var Oe=["color"],Ke=t.forwardRef(function(e,o){var r=e.color,n=r===void 0?"currentColor":r,c=Fe(e,Oe);return t.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},c,{ref:o}),t.createElement("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:n,fillRule:"evenodd",clipRule:"evenodd"}))});function je(e){const o=e+"CollectionProvider",[r,n]=ne(o),[c,d]=r(o,{collectionRef:{current:null},itemMap:new Map}),p=T=>{const{scope:w,children:u}=T,s=R.useRef(null),b=R.useRef(new Map).current;return R.createElement(c,{scope:w,itemMap:b,collectionRef:s},u)},f=e+"CollectionSlot",$=R.forwardRef((T,w)=>{const{scope:u,children:s}=T,b=d(f,u),l=H(w,b.collectionRef);return R.createElement(te,{ref:l},s)}),i=e+"CollectionItemSlot",E="data-radix-collection-item",g=R.forwardRef((T,w)=>{const{scope:u,children:s,...b}=T,l=R.useRef(null),v=H(w,l),m=d(i,u);return R.useEffect(()=>(m.itemMap.set(l,{ref:l,...b}),()=>void m.itemMap.delete(l))),R.createElement(te,{[E]:"",ref:v},s)});function N(T){const w=d(e+"CollectionConsumer",T);return R.useCallback(()=>{const s=w.collectionRef.current;if(!s)return[];const b=Array.from(s.querySelectorAll(`[${E}]`));return Array.from(w.itemMap.values()).sort((m,x)=>b.indexOf(m.ref.current)-b.indexOf(x.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:p,Slot:$,ItemSlot:g},N,n]}const ae="ToastProvider",[Q,Ve,ze]=je("Toast"),[ce,$t]=ne("Toast",[ze]),[We,X]=ce(ae),ie=e=>{const{__scopeToast:o,label:r="Notification",duration:n=5e3,swipeDirection:c="right",swipeThreshold:d=50,children:p}=e,[f,$]=t.useState(null),[i,E]=t.useState(0),g=t.useRef(!1),N=t.useRef(!1);return t.createElement(Q.Provider,{scope:o},t.createElement(We,{scope:o,label:r,duration:n,swipeDirection:c,swipeThreshold:d,toastCount:i,viewport:f,onViewportChange:$,onToastAdd:t.useCallback(()=>E(T=>T+1),[]),onToastRemove:t.useCallback(()=>E(T=>T-1),[]),isFocusedToastEscapeKeyDownRef:g,isClosePausedRef:N},p))};ie.propTypes={label(e){if(e.label&&typeof e.label=="string"&&!e.label.trim()){const o=`Invalid prop \`label\` supplied to \`${ae}\`. Expected non-empty \`string\`.`;return new Error(o)}return null}};const He="ToastViewport",Ue=["F8"],G="toast.viewportPause",J="toast.viewportResume",Xe=t.forwardRef((e,o)=>{const{__scopeToast:r,hotkey:n=Ue,label:c="Notifications ({hotkey})",...d}=e,p=X(He,r),f=Ve(r),$=t.useRef(null),i=t.useRef(null),E=t.useRef(null),g=t.useRef(null),N=H(o,g,p.onViewportChange),T=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),w=p.toastCount>0;t.useEffect(()=>{const s=b=>{var l;n.every(m=>b[m]||b.code===m)&&((l=g.current)===null||l===void 0||l.focus())};return document.addEventListener("keydown",s),()=>document.removeEventListener("keydown",s)},[n]),t.useEffect(()=>{const s=$.current,b=g.current;if(w&&s&&b){const l=()=>{if(!p.isClosePausedRef.current){const h=new CustomEvent(G);b.dispatchEvent(h),p.isClosePausedRef.current=!0}},v=()=>{if(p.isClosePausedRef.current){const h=new CustomEvent(J);b.dispatchEvent(h),p.isClosePausedRef.current=!1}},m=h=>{!s.contains(h.relatedTarget)&&v()},x=()=>{s.contains(document.activeElement)||v()};return s.addEventListener("focusin",l),s.addEventListener("focusout",m),s.addEventListener("pointermove",l),s.addEventListener("pointerleave",x),window.addEventListener("blur",l),window.addEventListener("focus",v),()=>{s.removeEventListener("focusin",l),s.removeEventListener("focusout",m),s.removeEventListener("pointermove",l),s.removeEventListener("pointerleave",x),window.removeEventListener("blur",l),window.removeEventListener("focus",v)}}},[w,p.isClosePausedRef]);const u=t.useCallback(({tabbingDirection:s})=>{const l=f().map(v=>{const m=v.ref.current,x=[m,...it(m)];return s==="forwards"?x:x.reverse()});return(s==="forwards"?l.reverse():l).flat()},[f]);return t.useEffect(()=>{const s=g.current;if(s){const b=l=>{const v=l.altKey||l.ctrlKey||l.metaKey;if(l.key==="Tab"&&!v){const F=document.activeElement,D=l.shiftKey;if(l.target===s&&D){var x;(x=i.current)===null||x===void 0||x.focus();return}const A=u({tabbingDirection:D?"backwards":"forwards"}),j=A.findIndex(a=>a===F);if(Z(A.slice(j+1)))l.preventDefault();else{var h,S;D?(h=i.current)===null||h===void 0||h.focus():(S=E.current)===null||S===void 0||S.focus()}}};return s.addEventListener("keydown",b),()=>s.removeEventListener("keydown",b)}},[f,u]),t.createElement(Pe,{ref:$,role:"region","aria-label":c.replace("{hotkey}",T),tabIndex:-1,style:{pointerEvents:w?void 0:"none"}},w&&t.createElement(oe,{ref:i,onFocusFromOutsideViewport:()=>{const s=u({tabbingDirection:"forwards"});Z(s)}}),t.createElement(Q.Slot,{scope:r},t.createElement(L.ol,_({tabIndex:-1},d,{ref:N}))),w&&t.createElement(oe,{ref:E,onFocusFromOutsideViewport:()=>{const s=u({tabbingDirection:"backwards"});Z(s)}}))}),Ye="ToastFocusProxy",oe=t.forwardRef((e,o)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...c}=e,d=X(Ye,r);return t.createElement(se,_({"aria-hidden":!0,tabIndex:0},c,{ref:o,style:{position:"fixed"},onFocus:p=>{var f;const $=p.relatedTarget;!((f=d.viewport)!==null&&f!==void 0&&f.contains($))&&n()}}))}),Y="Toast",qe="toast.swipeStart",Be="toast.swipeMove",Ze="toast.swipeCancel",Ge="toast.swipeEnd",Je=t.forwardRef((e,o)=>{const{forceMount:r,open:n,defaultOpen:c,onOpenChange:d,...p}=e,[f=!0,$]=_e({prop:n,defaultProp:c,onChange:d});return t.createElement(Se,{present:r||f},t.createElement(de,_({open:f},p,{ref:o,onClose:()=>$(!1),onPause:U(e.onPause),onResume:U(e.onResume),onSwipeStart:P(e.onSwipeStart,i=>{i.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:P(e.onSwipeMove,i=>{const{x:E,y:g}=i.detail.delta;i.currentTarget.setAttribute("data-swipe","move"),i.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${E}px`),i.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${g}px`)}),onSwipeCancel:P(e.onSwipeCancel,i=>{i.currentTarget.setAttribute("data-swipe","cancel"),i.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),i.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),i.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),i.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:P(e.onSwipeEnd,i=>{const{x:E,y:g}=i.detail.delta;i.currentTarget.setAttribute("data-swipe","end"),i.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),i.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),i.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${E}px`),i.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${g}px`),$(!1)})})))}),[Qe,et]=ce(Y,{onClose(){}}),de=t.forwardRef((e,o)=>{const{__scopeToast:r,type:n="foreground",duration:c,open:d,onClose:p,onEscapeKeyDown:f,onPause:$,onResume:i,onSwipeStart:E,onSwipeMove:g,onSwipeCancel:N,onSwipeEnd:T,...w}=e,u=X(Y,r),[s,b]=t.useState(null),l=H(o,a=>b(a)),v=t.useRef(null),m=t.useRef(null),x=c||u.duration,h=t.useRef(0),S=t.useRef(x),F=t.useRef(0),{onToastAdd:D,onToastRemove:q}=u,M=U(()=>{var a;s?.contains(document.activeElement)&&((a=u.viewport)===null||a===void 0||a.focus()),p()}),A=t.useCallback(a=>{!a||a===1/0||(window.clearTimeout(F.current),h.current=new Date().getTime(),F.current=window.setTimeout(M,a))},[M]);t.useEffect(()=>{const a=u.viewport;if(a){const C=()=>{A(S.current),i?.()},I=()=>{const O=new Date().getTime()-h.current;S.current=S.current-O,window.clearTimeout(F.current),$?.()};return a.addEventListener(G,I),a.addEventListener(J,C),()=>{a.removeEventListener(G,I),a.removeEventListener(J,C)}}},[u.viewport,x,$,i,A]),t.useEffect(()=>{d&&!u.isClosePausedRef.current&&A(x)},[d,x,u.isClosePausedRef,A]),t.useEffect(()=>(D(),()=>q()),[D,q]);const j=t.useMemo(()=>s?fe(s):null,[s]);return u.viewport?t.createElement(t.Fragment,null,j&&t.createElement(tt,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0},j),t.createElement(Qe,{scope:r,onClose:M},ke.createPortal(t.createElement(Q.ItemSlot,{scope:r},t.createElement(Ie,{asChild:!0,onEscapeKeyDown:P(f,()=>{u.isFocusedToastEscapeKeyDownRef.current||M(),u.isFocusedToastEscapeKeyDownRef.current=!1})},t.createElement(L.li,_({role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":d?"open":"closed","data-swipe-direction":u.swipeDirection},w,{ref:l,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:P(e.onKeyDown,a=>{a.key==="Escape"&&(f?.(a.nativeEvent),a.nativeEvent.defaultPrevented||(u.isFocusedToastEscapeKeyDownRef.current=!0,M()))}),onPointerDown:P(e.onPointerDown,a=>{a.button===0&&(v.current={x:a.clientX,y:a.clientY})}),onPointerMove:P(e.onPointerMove,a=>{if(!v.current)return;const C=a.clientX-v.current.x,I=a.clientY-v.current.y,O=!!m.current,K=["left","right"].includes(u.swipeDirection),V=["left","up"].includes(u.swipeDirection)?Math.min:Math.max,Ce=K?V(0,C):0,Re=K?0:V(0,I),B=a.pointerType==="touch"?10:2,z={x:Ce,y:Re},ee={originalEvent:a,delta:z};O?(m.current=z,W(Be,g,ee,{discrete:!1})):re(z,u.swipeDirection,B)?(m.current=z,W(qe,E,ee,{discrete:!1}),a.target.setPointerCapture(a.pointerId)):(Math.abs(C)>B||Math.abs(I)>B)&&(v.current=null)}),onPointerUp:P(e.onPointerUp,a=>{const C=m.current,I=a.target;if(I.hasPointerCapture(a.pointerId)&&I.releasePointerCapture(a.pointerId),m.current=null,v.current=null,C){const O=a.currentTarget,K={originalEvent:a,delta:C};re(C,u.swipeDirection,u.swipeThreshold)?W(Ge,T,K,{discrete:!0}):W(Ze,N,K,{discrete:!0}),O.addEventListener("click",V=>V.preventDefault(),{once:!0})}})})))),u.viewport))):null});de.propTypes={type(e){if(e.type&&!["foreground","background"].includes(e.type)){const o=`Invalid prop \`type\` supplied to \`${Y}\`. Expected \`foreground | background\`.`;return new Error(o)}return null}};const tt=e=>{const{__scopeToast:o,children:r,...n}=e,c=X(Y,o),[d,p]=t.useState(!1),[f,$]=t.useState(!1);return at(()=>p(!0)),t.useEffect(()=>{const i=window.setTimeout(()=>$(!0),1e3);return()=>window.clearTimeout(i)},[]),f?null:t.createElement(Ne,{asChild:!0},t.createElement(se,n,d&&t.createElement(t.Fragment,null,c.label," ",r)))},ot=t.forwardRef((e,o)=>{const{__scopeToast:r,...n}=e;return t.createElement(L.div,_({},n,{ref:o}))}),rt=t.forwardRef((e,o)=>{const{__scopeToast:r,...n}=e;return t.createElement(L.div,_({},n,{ref:o}))}),nt="ToastAction",le=t.forwardRef((e,o)=>{const{altText:r,...n}=e;return r?t.createElement(pe,{altText:r,asChild:!0},t.createElement(ue,_({},n,{ref:o}))):null});le.propTypes={altText(e){return e.altText?null:new Error(`Missing prop \`altText\` expected on \`${nt}\``)}};const st="ToastClose",ue=t.forwardRef((e,o)=>{const{__scopeToast:r,...n}=e,c=et(st,r);return t.createElement(pe,{asChild:!0},t.createElement(L.button,_({type:"button"},n,{ref:o,onClick:P(e.onClick,c.onClose)})))}),pe=t.forwardRef((e,o)=>{const{__scopeToast:r,altText:n,...c}=e;return t.createElement(L.div,_({"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0},c,{ref:o}))});function fe(e){const o=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&o.push(n.textContent),ct(n)){const c=n.ariaHidden||n.hidden||n.style.display==="none",d=n.dataset.radixToastAnnounceExclude==="";if(!c)if(d){const p=n.dataset.radixToastAnnounceAlt;p&&o.push(p)}else o.push(...fe(n))}}),o}function W(e,o,r,{discrete:n}){const c=r.originalEvent.currentTarget,d=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});o&&c.addEventListener(e,o,{once:!0}),n?De(c,d):c.dispatchEvent(d)}const re=(e,o,r=0)=>{const n=Math.abs(e.x),c=Math.abs(e.y),d=n>c;return o==="left"||o==="right"?d&&n>r:!d&&c>r};function at(e=()=>{}){const o=U(e);Ae(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(o)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[o])}function ct(e){return e.nodeType===e.ELEMENT_NODE}function it(e){const o=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const c=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||c?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)o.push(r.currentNode);return o}function Z(e){const o=document.activeElement;return e.some(r=>r===o?!0:(r.focus(),document.activeElement!==o))}const dt=ie,be=Xe,me=Je,ve=ot,$e=rt,we=le,xe=ue,lt=dt,Te=t.forwardRef(({className:e,...o},r)=>y.jsx(be,{ref:r,className:k("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...o}));Te.displayName=be.displayName;const ut=Me("group pointer-events-auto relative flex w-full items-center justify-between space-x-2 overflow-hidden rounded-md border border-zinc-200 p-4 pr-6 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full dark:border-zinc-800",{variants:{variant:{default:"border bg-white dark:bg-zinc-950",destructive:"destructive group border-red-500 bg-red-500 text-zinc-50 dark:border-red-900 dark:bg-red-900 dark:text-red-50"}},defaultVariants:{variant:"default"}}),Ee=t.forwardRef(({className:e,variant:o,...r},n)=>y.jsx(me,{ref:n,className:k(ut({variant:o}),e),...r}));Ee.displayName=me.displayName;const pt=t.forwardRef(({className:e,...o},r)=>y.jsx(we,{ref:r,className:k("inline-flex h-8 shrink-0 items-center justify-center rounded-md border border-zinc-200 bg-transparent px-3 text-sm font-medium transition-colors hover:bg-zinc-100 focus:outline-none focus:ring-1 focus:ring-zinc-400 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-zinc-100/40 group-[.destructive]:hover:border-red-500/30 group-[.destructive]:hover:bg-red-500 group-[.destructive]:hover:text-zinc-50 group-[.destructive]:focus:ring-red-500 dark:border-zinc-800 dark:hover:bg-zinc-800 dark:focus:ring-zinc-800 dark:group-[.destructive]:border-zinc-800/40 dark:group-[.destructive]:hover:border-red-900/30 dark:group-[.destructive]:hover:bg-red-900 dark:group-[.destructive]:hover:text-red-50 dark:group-[.destructive]:focus:ring-red-900",e),...o}));pt.displayName=we.displayName;const ge=t.forwardRef(({className:e,...o},r)=>y.jsx(xe,{ref:r,className:k("absolute right-1 top-1 rounded-md p-1 text-zinc-950/50 opacity-0 transition-opacity hover:text-zinc-950 focus:opacity-100 focus:outline-none focus:ring-1 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600 dark:text-zinc-50/50 dark:hover:text-zinc-50",e),"toast-close":"",...o,children:y.jsx(Ke,{className:"h-4 w-4"})}));ge.displayName=xe.displayName;const ye=t.forwardRef(({className:e,...o},r)=>y.jsx(ve,{ref:r,className:k("text-sm font-semibold [&+div]:text-xs",e),...o}));ye.displayName=ve.displayName;const he=t.forwardRef(({className:e,...o},r)=>y.jsx($e,{ref:r,className:k("text-sm opacity-90",e),...o}));he.displayName=$e.displayName;function wt(){const{toasts:e}=Le();return y.jsxs(lt,{children:[e.map(function({id:o,title:r,description:n,action:c,...d}){return y.jsxs(Ee,{...d,children:[y.jsxs("div",{className:"grid gap-1",children:[r&&y.jsx(ye,{children:r}),n&&y.jsx(he,{children:n})]}),c,y.jsx(ge,{})]},o)}),y.jsx(Te,{})]})}export{wt as Toaster};
